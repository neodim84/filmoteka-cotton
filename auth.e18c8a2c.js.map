{"mappings":"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","sources":["src/js/materialize.js","src/js/auth.js"],"sourcesContent":["// DOM elements\nconst watchedMoviesList = document.querySelector('.watched_movies');\nconst queueMoviesList = document.querySelector('.queue_movies');\nconst loggedOutLinks = document.querySelectorAll('.logged-out');\nconst loggedInLinks = document.querySelectorAll('.logged-in');\n\nexport const setupUI = user => {\n  if (user) {\n    // toggle user UI elements\n    loggedInLinks.forEach(item => (item.style.display = 'block'));\n    loggedOutLinks.forEach(item => (item.style.display = 'none'));\n  } else {\n    //   toggle user elements\n    loggedInLinks.forEach(item => (item.style.display = 'none'));\n    loggedOutLinks.forEach(item => (item.style.display = 'block'));\n  }\n};\n\n// setup watchedMovies\nexport const setupWatchedMovies = data => {\n  console.log(data);\n  if (data.length) {\n    let html = '';\n    data.forEach(doc => {\n      const watchedMovies = doc.data();\n      const li = `\n          <li>\n            <div class=\"collapsible-header grey lighten-4\"> ${watchedMovies.title} </div>\n            <div class=\"collapsible-body white\"> ${watchedMovies.content} </div>\n          </li>\n        `;\n      html += li;\n    });\n    watchedMoviesList.innerHTML = html;\n  } else {\n    watchedMoviesList.innerHTML =\n      '<h5 class=\"center-align\">Login to view your Library</h5>';\n  }\n};\n\n// setup queueMovies\nexport const setupQueueMovies = data => {\n  if (data.length) {\n    let html = '';\n    data.forEach(doc => {\n      const queueMovies = doc.data();\n      const li = `\n          <li>\n            <div class=\"collapsible-header grey lighten-4\"> ${queueMovies.title} </div>\n            <div class=\"collapsible-body white\"> ${queueMovies.content} </div>\n          </li>\n        `;\n      html += li;\n    });\n    queueMoviesList.innerHTML = html;\n  } else {\n    //     queueMoviesList.innerHTML =\n    //       '<h5 class=\"center-align\">Login to view your Library</h5>';\n  }\n};\n\n// setup materialize components\ndocument.addEventListener('DOMContentLoaded', function () {\n  const modals = document.querySelectorAll('.modal');\n  M.Modal.init(modals);\n\n  const items = document.querySelectorAll('.collapsible');\n  M.Collapsible.init(items);\n});\n","import { setupWatchedMovies, setupQueueMovies, setupUI } from './materialize';\n\n// listen for auth status changes\nauth.onAuthStateChanged(user => {\n  if (user) {\n    console.log('user logged in: ', user);\n    // get data\n    db.collection('watched_movies')\n      .get()\n      .then(snapshot => {\n        setupWatchedMovies(snapshot.docs);\n        setupUI(user);\n      });\n\n    db.collection('queue_movies')\n      .get()\n      .then(snapshot => {\n        setupQueueMovies(snapshot.docs);\n        setupUI(user);\n      });\n  } else {\n    console.log('user logged out');\n    setupUI(user);\n    setupWatchedMovies([]);\n    setupQueueMovies([]);\n  }\n});\n\n// create new guide (add to watched)\nconst createForm = document.querySelector('#create-form');\ncreateForm.addEventListener('submit', handleAddToWatched);\n\nfunction handleAddToWatched(e) {\n  e.preventDefault();\n  db.collection('watched_movies')\n    .add({\n      title: createForm.title.value,\n      content: createForm.content.value,\n    })\n    .then(() => {\n      // close the create modal & reset form\n      const modal = document.querySelector('#modal-create');\n      M.Modal.getInstance(modal).close();\n      createForm.reset();\n    })\n    .catch(err => {\n      console.log(err.message);\n    });\n}\n\n// project cotton add to watched\nconst watchedLib = document.querySelector('.film-gallery__list');\nconst addToWatchedBtn = document.querySelector('.modal__btn--watched');\nconsole.log(addToWatchedBtn);\naddToWatchedBtn.addEventListener('click', cottonAddToWatched);\n\nfunction cottonAddToWatched(e) {\n  console.log(e);\n}\n\n// create new guide (add to queue)\n// const createForm = document.querySelector('#create-form');\ncreateForm.addEventListener('submit', handleAddToQueue);\n\nfunction handleAddToQueue(e) {\n  e.preventDefault();\n  db.collection('queue_movies')\n    .add({\n      title: createForm.title.value,\n      content: createForm.content.value,\n    })\n    .then(() => {\n      // close the create modal & reset form\n      const modal = document.querySelector('#modal-create');\n      M.Modal.getInstance(modal).close();\n      createForm.reset();\n    })\n    .catch(err => {\n      console.log(err.message);\n    });\n}\n\n// signup\nconst signupForm = document.querySelector('#signup-form');\n// console.log(signupForm);\n\nsignupForm.addEventListener('submit', signUp);\n\nfunction signUp(e) {\n  e.preventDefault();\n\n  // get user info\n  const email = signupForm['signup-email'].value;\n  const password = signupForm['signup-password'].value;\n\n  console.log(email, password);\n\n  // sign up the user\n  auth.createUserWithEmailAndPassword(email, password).then(cred => {\n    // close the signup modal & reset form\n    const modal = document.querySelector('#modal-signup');\n    M.Modal.getInstance(modal).close();\n    signupForm.reset();\n  });\n}\n\n// logout\nconst logout = document.querySelector('#logout');\n\nlogout.addEventListener('click', handleLogout);\n\nfunction handleLogout(e) {\n  e.preventDefault();\n  auth.signOut().then(() => {\n    //     console.log('user signed out');\n  });\n}\n\n// login\nconst loginForm = document.querySelector('#login-form');\n\nloginForm.addEventListener('submit', handleLogin);\n\nfunction handleLogin(e) {\n  e.preventDefault();\n\n  // get user info\n  const email = loginForm['login-email'].value;\n  const password = loginForm['login-password'].value;\n\n  // log the user in\n  auth.signInWithEmailAndPassword(email, password).then(cred => {\n    console.log(cred.user);\n    // close the signup modal & reset form\n    const modal = document.querySelector('#modal-login');\n    M.Modal.getInstance(modal).close();\n    loginForm.reset();\n  });\n}\n"],"names":["$d9767bb699c5fe49$var$watchedMoviesList","document","querySelector","$d9767bb699c5fe49$var$queueMoviesList","$d9767bb699c5fe49$var$loggedOutLinks","querySelectorAll","$d9767bb699c5fe49$var$loggedInLinks","$d9767bb699c5fe49$export$86a308b97e5e5308","user","forEach","item","style","display","$d9767bb699c5fe49$export$2c98238cfc070e0e","data","console","log","length","html","doc","watchedMovies","li","concat","title","content","innerHTML","$d9767bb699c5fe49$export$7057126413bdb2d0","queueMovies","addEventListener","modals","M","Modal","init","items","Collapsible","auth","onAuthStateChanged","db","collection","get","then","snapshot","docs","$a8c8b369db0e2137$var$createForm","e","preventDefault","add","value","modal","getInstance","close","reset","catch","err","message","$a8c8b369db0e2137$var$addToWatchedBtn","$a8c8b369db0e2137$var$signupForm","email","password","createUserWithEmailAndPassword","cred","signOut","$a8c8b369db0e2137$var$loginForm","signInWithEmailAndPassword"],"version":3,"file":"auth.e18c8a2c.js.map"}