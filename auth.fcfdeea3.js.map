{"mappings":"AACA,MAAMA,EAAoBC,SAASC,cAAc,mBAC3CC,EAAkBF,SAASC,cAAc,iBACzCE,EAAiBH,SAASI,iBAAiB,eAC3CC,EAAgBL,SAASI,iBAAiB,cAEnCE,EAAUC,IACjBA,GAEFF,EAAcG,SAAQC,GAASA,EAAKC,MAAMC,QAAU,UACpDR,EAAeK,SAAQC,GAASA,EAAKC,MAAMC,QAAU,WAGrDN,EAAcG,SAAQC,GAASA,EAAKC,MAAMC,QAAU,SACpDR,EAAeK,SAAQC,GAASA,EAAKC,MAAMC,QAAU,U,EAK5CC,EAAqBC,IAEhC,GADAC,QAAQC,IAAIF,GACRA,EAAKG,OAAQ,CACf,IAAIC,EAAO,GACXJ,EAAKL,SAAQU,IACX,MAAMC,EAAgBD,EAAIL,OACpBO,EAAK,iFAE6CD,EAAcE,kEACzBF,EAAcG,4CAG3DL,GAAQG,CAAE,IAEZrB,EAAkBwB,UAAYN,C,MAE9BlB,EAAkBwB,UAChB,0DAA0D,EAKnDC,EAAmBX,IAC9B,GAAIA,EAAKG,OAAQ,CACf,IAAIC,EAAO,GACXJ,EAAKL,SAAQU,IACX,MAAMO,EAAcP,EAAIL,OAClBO,EAAK,iFAE6CK,EAAYJ,kEACvBI,EAAYH,4CAGzDL,GAAQG,CAAE,IAEZlB,EAAgBqB,UAAYN,C,GAQhCjB,SAAS0B,iBAAiB,oBAAoB,WAC5C,MAAMC,EAAS3B,SAASI,iBAAiB,UACzCwB,EAAEC,MAAMC,KAAKH,GAEb,MAAMI,EAAQ/B,SAASI,iBAAiB,gBACxCwB,EAAEI,YAAYF,KAAKC,E,IChErBE,KAAKC,oBAAmB3B,IAClBA,GACFO,QAAQC,IAAI,mBAAoBR,GAEhC4B,GAAGC,WAAW,kBACXC,MACAC,MAAKC,IACJ3B,EAAmB2B,EAASC,MAC5BlC,EAAQC,EAAK,IAGjB4B,GAAGC,WAAW,gBACXC,MACAC,MAAKC,IACJf,EAAiBe,EAASC,MAC1BlC,EAAQC,EAAK,MAGjBO,QAAQC,IAAI,mBACZT,EAAQC,GACRK,EAAmB,IACnBY,EAAiB,I,IAKrB,MAAMiB,EAAazC,SAASC,cAAc,gBAC1CwC,EAAWf,iBAAiB,UAE5B,SAA4BgB,GAC1BA,EAAEC,iBACFR,GAAGC,WAAW,kBACXQ,IAAI,CACHvB,MAAOoB,EAAWpB,MAAMwB,MACxBvB,QAASmB,EAAWnB,QAAQuB,QAE7BP,MAAK,KAEJ,MAAMQ,EAAQ9C,SAASC,cAAc,iBACrC2B,EAAEC,MAAMkB,YAAYD,GAAOE,QAC3BP,EAAWQ,OAAO,IAEnBC,OAAMC,IACLrC,QAAQC,IAAIoC,EAAIC,QAAQ,G,IAKXpD,SAASC,cAAc,uBAA1C,MACMoD,EAAkBrD,SAASC,cAAc,wBAC/Ca,QAAQC,IAAIsC,GACZA,EAAgB3B,iBAAiB,SAEjC,SAA4BgB,GAC1B5B,QAAQC,IAAI2B,E,IAKdD,EAAWf,iBAAiB,UAE5B,SAA0BgB,GACxBA,EAAEC,iBACFR,GAAGC,WAAW,gBACXQ,IAAI,CACHvB,MAAOoB,EAAWpB,MAAMwB,MACxBvB,QAASmB,EAAWnB,QAAQuB,QAE7BP,MAAK,KAEJ,MAAMQ,EAAQ9C,SAASC,cAAc,iBACrC2B,EAAEC,MAAMkB,YAAYD,GAAOE,QAC3BP,EAAWQ,OAAO,IAEnBC,OAAMC,IACLrC,QAAQC,IAAIoC,EAAIC,QAAQ,G,IAK9B,MAAME,EAAatD,SAASC,cAAc,gBAG1CqD,EAAW5B,iBAAiB,UAE5B,SAAgBgB,GACdA,EAAEC,iBAGF,MAAMY,EAAQD,EAAW,gBAAgBT,MACnCW,EAAWF,EAAW,mBAAmBT,MAE/C/B,QAAQC,IAAIwC,EAAOC,GAGnBvB,KAAKwB,+BAA+BF,EAAOC,GAAUlB,MAAKoB,IAExD,MAAMZ,EAAQ9C,SAASC,cAAc,iBACrC2B,EAAEC,MAAMkB,YAAYD,GAAOE,QAC3BM,EAAWL,OAAO,G,IAKPjD,SAASC,cAAc,WAE/ByB,iBAAiB,SAExB,SAAsBgB,GACpBA,EAAEC,iBACFV,KAAK0B,UAAUrB,MAAK,Q,IAMtB,MAAMsB,EAAY5D,SAASC,cAAc,eAEzC2D,EAAUlC,iBAAiB,UAE3B,SAAqBgB,GACnBA,EAAEC,iBAGF,MAAMY,EAAQK,EAAU,eAAef,MACjCW,EAAWI,EAAU,kBAAkBf,MAG7CZ,KAAK4B,2BAA2BN,EAAOC,GAAUlB,MAAKoB,IACpD5C,QAAQC,IAAI2C,EAAKnD,MAEjB,MAAMuC,EAAQ9C,SAASC,cAAc,gBACrC2B,EAAEC,MAAMkB,YAAYD,GAAOE,QAC3BY,EAAUX,OAAO,G","sources":["src/js/materialize.js","src/js/auth.js"],"sourcesContent":["// DOM elements\nconst watchedMoviesList = document.querySelector('.watched_movies');\nconst queueMoviesList = document.querySelector('.queue_movies');\nconst loggedOutLinks = document.querySelectorAll('.logged-out');\nconst loggedInLinks = document.querySelectorAll('.logged-in');\n\nexport const setupUI = user => {\n  if (user) {\n    // toggle user UI elements\n    loggedInLinks.forEach(item => (item.style.display = 'block'));\n    loggedOutLinks.forEach(item => (item.style.display = 'none'));\n  } else {\n    //   toggle user elements\n    loggedInLinks.forEach(item => (item.style.display = 'none'));\n    loggedOutLinks.forEach(item => (item.style.display = 'block'));\n  }\n};\n\n// setup watchedMovies\nexport const setupWatchedMovies = data => {\n  console.log(data);\n  if (data.length) {\n    let html = '';\n    data.forEach(doc => {\n      const watchedMovies = doc.data();\n      const li = `\n          <li>\n            <div class=\"collapsible-header grey lighten-4\"> ${watchedMovies.title} </div>\n            <div class=\"collapsible-body white\"> ${watchedMovies.content} </div>\n          </li>\n        `;\n      html += li;\n    });\n    watchedMoviesList.innerHTML = html;\n  } else {\n    watchedMoviesList.innerHTML =\n      '<h5 class=\"center-align\">Login to view your Library</h5>';\n  }\n};\n\n// setup queueMovies\nexport const setupQueueMovies = data => {\n  if (data.length) {\n    let html = '';\n    data.forEach(doc => {\n      const queueMovies = doc.data();\n      const li = `\n          <li>\n            <div class=\"collapsible-header grey lighten-4\"> ${queueMovies.title} </div>\n            <div class=\"collapsible-body white\"> ${queueMovies.content} </div>\n          </li>\n        `;\n      html += li;\n    });\n    queueMoviesList.innerHTML = html;\n  } else {\n    //     queueMoviesList.innerHTML =\n    //       '<h5 class=\"center-align\">Login to view your Library</h5>';\n  }\n};\n\n// setup materialize components\ndocument.addEventListener('DOMContentLoaded', function () {\n  const modals = document.querySelectorAll('.modal');\n  M.Modal.init(modals);\n\n  const items = document.querySelectorAll('.collapsible');\n  M.Collapsible.init(items);\n});\n","import { setupWatchedMovies, setupQueueMovies, setupUI } from './materialize';\n\n// listen for auth status changes\nauth.onAuthStateChanged(user => {\n  if (user) {\n    console.log('user logged in: ', user);\n    // get data\n    db.collection('watched_movies')\n      .get()\n      .then(snapshot => {\n        setupWatchedMovies(snapshot.docs);\n        setupUI(user);\n      });\n\n    db.collection('queue_movies')\n      .get()\n      .then(snapshot => {\n        setupQueueMovies(snapshot.docs);\n        setupUI(user);\n      });\n  } else {\n    console.log('user logged out');\n    setupUI(user);\n    setupWatchedMovies([]);\n    setupQueueMovies([]);\n  }\n});\n\n// create new guide (add to watched)\nconst createForm = document.querySelector('#create-form');\ncreateForm.addEventListener('submit', handleAddToWatched);\n\nfunction handleAddToWatched(e) {\n  e.preventDefault();\n  db.collection('watched_movies')\n    .add({\n      title: createForm.title.value,\n      content: createForm.content.value,\n    })\n    .then(() => {\n      // close the create modal & reset form\n      const modal = document.querySelector('#modal-create');\n      M.Modal.getInstance(modal).close();\n      createForm.reset();\n    })\n    .catch(err => {\n      console.log(err.message);\n    });\n}\n\n// project cotton add to watched\nconst watchedLib = document.querySelector('.film-gallery__list');\nconst addToWatchedBtn = document.querySelector('.modal__btn--watched');\nconsole.log(addToWatchedBtn);\naddToWatchedBtn.addEventListener('click', cottonAddToWatched);\n\nfunction cottonAddToWatched(e) {\n  console.log(e);\n}\n\n// create new guide (add to queue)\n// const createForm = document.querySelector('#create-form');\ncreateForm.addEventListener('submit', handleAddToQueue);\n\nfunction handleAddToQueue(e) {\n  e.preventDefault();\n  db.collection('queue_movies')\n    .add({\n      title: createForm.title.value,\n      content: createForm.content.value,\n    })\n    .then(() => {\n      // close the create modal & reset form\n      const modal = document.querySelector('#modal-create');\n      M.Modal.getInstance(modal).close();\n      createForm.reset();\n    })\n    .catch(err => {\n      console.log(err.message);\n    });\n}\n\n// signup\nconst signupForm = document.querySelector('#signup-form');\n// console.log(signupForm);\n\nsignupForm.addEventListener('submit', signUp);\n\nfunction signUp(e) {\n  e.preventDefault();\n\n  // get user info\n  const email = signupForm['signup-email'].value;\n  const password = signupForm['signup-password'].value;\n\n  console.log(email, password);\n\n  // sign up the user\n  auth.createUserWithEmailAndPassword(email, password).then(cred => {\n    // close the signup modal & reset form\n    const modal = document.querySelector('#modal-signup');\n    M.Modal.getInstance(modal).close();\n    signupForm.reset();\n  });\n}\n\n// logout\nconst logout = document.querySelector('#logout');\n\nlogout.addEventListener('click', handleLogout);\n\nfunction handleLogout(e) {\n  e.preventDefault();\n  auth.signOut().then(() => {\n    //     console.log('user signed out');\n  });\n}\n\n// login\nconst loginForm = document.querySelector('#login-form');\n\nloginForm.addEventListener('submit', handleLogin);\n\nfunction handleLogin(e) {\n  e.preventDefault();\n\n  // get user info\n  const email = loginForm['login-email'].value;\n  const password = loginForm['login-password'].value;\n\n  // log the user in\n  auth.signInWithEmailAndPassword(email, password).then(cred => {\n    console.log(cred.user);\n    // close the signup modal & reset form\n    const modal = document.querySelector('#modal-login');\n    M.Modal.getInstance(modal).close();\n    loginForm.reset();\n  });\n}\n"],"names":["$2113961c54814db2$var$watchedMoviesList","document","querySelector","$2113961c54814db2$var$queueMoviesList","$2113961c54814db2$var$loggedOutLinks","querySelectorAll","$2113961c54814db2$var$loggedInLinks","$2113961c54814db2$export$86a308b97e5e5308","user","forEach","item","style","display","$2113961c54814db2$export$2c98238cfc070e0e","data","console","log","length","html","doc","watchedMovies","li","title","content","innerHTML","$2113961c54814db2$export$7057126413bdb2d0","queueMovies","addEventListener","modals","M","Modal","init","items","Collapsible","auth","onAuthStateChanged","db","collection","get","then","snapshot","docs","$8953c87b21bd174e$var$createForm","e","preventDefault","add","value","modal","getInstance","close","reset","catch","err","message","$8953c87b21bd174e$var$addToWatchedBtn","$8953c87b21bd174e$var$signupForm","email","password","createUserWithEmailAndPassword","cred","signOut","$8953c87b21bd174e$var$loginForm","signInWithEmailAndPassword"],"version":3,"file":"auth.fcfdeea3.js.map"}