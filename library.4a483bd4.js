!function(){var e=document.querySelector(".watched_movies"),n=document.querySelector(".queue_movies"),t=document.querySelectorAll(".logged-out"),o=document.querySelectorAll(".logged-in"),l=function(e){e?(o.forEach((function(e){return e.style.display="block"})),t.forEach((function(e){return e.style.display="none"}))):(o.forEach((function(e){return e.style.display="none"})),t.forEach((function(e){return e.style.display="block"})))},c=function(n){if(console.log(n),n.length){var t="";n.forEach((function(e){var n=e.data(),o='\n          <li>\n            <div class="collapsible-header grey lighten-4"> '.concat(n.title,' </div>\n            <div class="collapsible-body white"> ').concat(n.content," </div>\n          </li>\n        ");t+=o})),e.innerHTML=t}else e.innerHTML='<h5 class="center-align">Login to view your Library</h5>'},a=function(e){if(e.length){var t="";e.forEach((function(e){var n=e.data(),o='\n          <li>\n            <div class="collapsible-header grey lighten-4"> '.concat(n.title,' </div>\n            <div class="collapsible-body white"> ').concat(n.content," </div>\n          </li>\n        ");t+=o})),n.innerHTML=t}};document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".modal");M.Modal.init(e);var n=document.querySelectorAll(".collapsible");M.Collapsible.init(n)})),auth.onAuthStateChanged((function(e){e?(console.log("user logged in: ",e),db.collection("watched_movies").get().then((function(n){c(n.docs),l(e)})),db.collection("queue_movies").get().then((function(n){a(n.docs),l(e)}))):(console.log("user logged out"),l(e),c([]),a([]))}));var i=document.querySelector("#create-form");i.addEventListener("submit",(function(e){e.preventDefault(),db.collection("watched_movies").add({title:i.title.value,content:i.content.value}).then((function(){var e=document.querySelector("#modal-create");M.Modal.getInstance(e).close(),i.reset()})).catch((function(e){console.log(e.message)}))})),i.addEventListener("submit",(function(e){e.preventDefault(),db.collection("queue_movies").add({title:i.title.value,content:i.content.value}).then((function(){var e=document.querySelector("#modal-create");M.Modal.getInstance(e).close(),i.reset()})).catch((function(e){console.log(e.message)}))}));var r=document.querySelector("#signup-form");r.addEventListener("submit",(function(e){e.preventDefault();var n=r["signup-email"].value,t=r["signup-password"].value;console.log(n,t),auth.createUserWithEmailAndPassword(n,t).then((function(e){var n=document.querySelector("#modal-signup");M.Modal.getInstance(n).close(),r.reset()}))})),document.querySelector("#logout").addEventListener("click",(function(e){e.preventDefault(),auth.signOut().then((function(){}))}));var u=document.querySelector("#login-form");u.addEventListener("submit",(function(e){e.preventDefault();var n=u["login-email"].value,t=u["login-password"].value;auth.signInWithEmailAndPassword(n,t).then((function(e){console.log(e.user);var n=document.querySelector("#modal-login");M.Modal.getInstance(n).close(),u.reset()}))}))}();
//# sourceMappingURL=library.4a483bd4.js.map
