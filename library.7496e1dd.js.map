{"mappings":"iiBAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,0BAmCAE,EAAAC,KAAKC,WAAWC,iBAAiB,SA/BjC,WACE,IAAMC,GAAgB,EAAAL,EAAAM,MAAK,WAE3B,GAA6B,IAAzBD,EAAcE,OAAc,CAC9BN,EAAAC,KAAKM,aAAaC,UAAUC,IAAI,mBAChCT,EAAAC,KAAKS,YAAYC,UAAY,GAC7B,IAAMC,GAAgB,EAAAC,EAAAC,qBAAoBV,GAC1CJ,EAAAC,KAAKS,YAAYK,mBAAmB,YAAaH,E,KAyBrDZ,EAAAC,KAAKe,SAASb,iBAAiB,SArB/B,WACE,IAAMc,GAAc,EAAAlB,EAAAM,MAAK,SAEzB,GAA2B,IAAvBY,EAAYX,OAAc,CAC5BN,EAAAC,KAAKM,aAAaC,UAAUC,IAAI,mBAChCT,EAAAC,KAAKS,YAAYC,UAAY,GAC7B,IAAMO,GAAc,EAAAL,EAAAC,qBAAoBG,GACxCjB,EAAAC,KAAKS,YAAYK,mBAAmB,YAAaG,E,MAEjDlB,EAAAC,KAAKM,aAAaC,UAAUW,OAAO,mBACnCnB,EAAAC,KAAKS,YAAYC,UAAa,sX,eCzBlC,IAAAS,EAAAtB,EAAA,S,6DAKeuB,I,OAAAA,EAAfC,EAAAF,EAAA,CAAAE,EAAAC,GAAAC,MAAA,SAAAC,EAA6BC,G,IAOnBC,EACAC,EAOEC,EACAC,E,qEAfVJ,EAAEK,iBACFC,OAAO7B,iBAAiB,UAAW8B,IACvBP,EAAEQ,OAAOC,QAAQ,mBACjBT,EAAEQ,OAAO1B,UAAU4B,SAAS,iBAAgB,C,uBACtDpC,EAAAC,KAAKoC,gBAAgBC,YAAc,sBAE7BX,EAAYD,EAAEQ,OACdN,EAAUD,EAAUY,QAAQC,GAClCxC,EAAAC,KAAKwC,MAAMjC,UAAUkC,OAAO,aAC5B1C,EAAAC,KAAK0C,KAAKnC,UAAUkC,OAAO,aAC3B1C,EAAAC,KAAKoC,gBAAgBO,aAAa,UAAWhB,GAC7C5B,EAAAC,KAAK4C,cAAcD,aAAa,UAAWhB,G,oBAGjBkB,EAAAC,aAAiBnB,G,QAAnCC,EAASmB,EAAAC,KACTnB,GAAc,EAAAjB,EAAAqC,mBAAkBrB,GACtC7B,EAAAC,KAAKkD,UAAUpC,mBAAmB,YAAae,G,mDAE/CsB,QAAQC,IAAIL,EAAAM,GAAMC,S,4DAnBIC,MAAAC,KAAAC,U,CAwB5B,SAASC,IACP3D,EAAAC,KAAKwC,MAAMjC,UAAUkC,OAAO,aAC5B1C,EAAAC,KAAK0C,KAAKnC,UAAUkC,OAAO,aAE3B1C,EAAAC,KAAKkD,UAAUxC,UAAY,E,CAG7B,SAASsB,EAASP,GACD,WAAXA,EAAEkC,OACJD,IACA3B,OAAO6B,oBAAoB,UAAW5B,G,YAI1CjC,EAAAC,KAAK6D,cAAc3D,iBAAiB,QAASwD,GAC7C3D,EAAAC,KAAKS,YAAYP,iBAAiB,S,SAvCLuB,G,OAAdL,EAAamC,MAAAC,KAAAC,U","sources":["src/library-index.js","src/js/library.js","src/js/modal-library.js"],"sourcesContent":["import './js/theme';\nimport './js/library';\nimport './js/modal-footer';\nimport './js/modal-library';\n","import { load } from '../utils/storage';\nimport { refs } from './refs';\nimport { createMarkupLibrary } from './createMarkup';\n\nfunction onClickWatched() {\n  const moviesWatched = load('watched');\n\n  if (moviesWatched.length !== 0) {\n    refs.titleLibrary.classList.add('visually-hidden');\n    refs.listLibrary.innerHTML = '';\n    const markupLibrary = createMarkupLibrary(moviesWatched);\n    refs.listLibrary.insertAdjacentHTML('beforeend', markupLibrary);\n  }\n}\n\nfunction onClickQueue() {\n  const moviesQueue = load('queue');\n\n  if (moviesQueue.length !== 0) {\n    refs.titleLibrary.classList.add('visually-hidden');\n    refs.listLibrary.innerHTML = '';\n    const markupQueue = createMarkupLibrary(moviesQueue);\n    refs.listLibrary.insertAdjacentHTML('beforeend', markupQueue);\n  } else {\n    refs.titleLibrary.classList.remove('visually-hidden');\n    refs.listLibrary.innerHTML = `<li class=\"film-gallery__item card\">\n                    <a class=\"library__link link\">\n                        <img class=\"film-gallery__img library__link\"\n                            src=\"http://image.tmdb.org/t/p/w780/438QXt1E3WJWb3PqNniK0tAE5c1.jpg\" loading='lazy'\n                            alt=\"фото фільма\" />\n                    </a>\n                </li>`;\n  }\n}\n\nrefs.btnWatched.addEventListener('click', onClickWatched);\nrefs.btnQueue.addEventListener('click', onClickQueue);\n","import * as API from './api';\nimport { createMarkupModal } from './createMarkup';\nimport { refs } from './refs';\nimport { load, save } from '../utils/storage';\n\nasync function onCardLibrary(e) {\n  e.preventDefault();\n  window.addEventListener('keydown', onEscKey);\n  const elt = e.target.closest('.library__list');\n  if (elt && !e.target.classList.contains('library__link')) {\n    refs.btnAddToWatched.textContent = 'Remove from watched';\n\n    const currentEl = e.target;\n    const movieId = currentEl.dataset.id;\n    refs.modal.classList.toggle('is-hidden');\n    refs.body.classList.toggle('no-scroll');\n    refs.btnAddToWatched.setAttribute('data-id', movieId);\n    refs.btnAddToQueue.setAttribute('data-id', movieId);\n\n    try {\n      const movieInfo = await API.getMovieById(movieId);\n      const markupModal = createMarkupModal(movieInfo);\n      refs.modalList.insertAdjacentHTML('beforeend', markupModal);\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n}\n\nfunction onCloseBtn() {\n  refs.modal.classList.toggle('is-hidden');\n  refs.body.classList.toggle('no-scroll');\n\n  refs.modalList.innerHTML = '';\n}\n\nfunction onEscKey(e) {\n  if (e.code === 'Escape') {\n    onCloseBtn();\n    window.removeEventListener('keydown', onEscKey);\n  }\n}\n\nrefs.closeModalBtn.addEventListener('click', onCloseBtn);\nrefs.listLibrary.addEventListener('click', onCardLibrary);\n"],"names":["parcelRequire","$hBW9e","$4Nugj","refs","btnWatched","addEventListener","moviesWatched","load","length","titleLibrary","classList","add","listLibrary","innerHTML","markupLibrary","$9XBOy","createMarkupLibrary","insertAdjacentHTML","btnQueue","moviesQueue","markupQueue","remove","$bpxeT","$5274909fd9dfb2b1$var$_onCardLibrary","$parcel$interopDefault","$2TvXO","mark","_callee","e","currentEl","movieId","movieInfo","markupModal","preventDefault","window","$5274909fd9dfb2b1$var$onEscKey","target","closest","contains","btnAddToWatched","textContent","dataset","id","modal","toggle","body","setAttribute","btnAddToQueue","$b7ONl","getMovieById","_ctx","sent","createMarkupModal","modalList","console","log","t0","message","apply","this","arguments","$5274909fd9dfb2b1$var$onCloseBtn","code","removeEventListener","closeModalBtn"],"version":3,"file":"library.7496e1dd.js.map"}