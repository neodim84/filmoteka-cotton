!function(){var e=document.querySelector(".watched_movies"),t=document.querySelector(".queue_movies"),n=document.querySelectorAll(".logged-out"),o=document.querySelectorAll(".logged-in"),l=function(e){e?(o.forEach((function(e){return e.style.display="block"})),n.forEach((function(e){return e.style.display="none"}))):(o.forEach((function(e){return e.style.display="none"})),n.forEach((function(e){return e.style.display="block"})))},c=function(t){if(console.log(t),t.length){var n="";t.forEach((function(e){var t=e.data(),o='\n          <li>\n            <div class="collapsible-header grey lighten-4"> '.concat(t.title,' </div>\n            <div class="collapsible-body white"> ').concat(t.content," </div>\n          </li>\n        ");n+=o})),e.innerHTML=n}else e.innerHTML='<h5 class="center-align">Login to view your Library</h5>'},a=function(e){if(e.length){var n="";e.forEach((function(e){var t=e.data(),o='\n          <li>\n            <div class="collapsible-header grey lighten-4"> '.concat(t.title,' </div>\n            <div class="collapsible-body white"> ').concat(t.content," </div>\n          </li>\n        ");n+=o})),t.innerHTML=n}};document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".modal");M.Modal.init(e);var t=document.querySelectorAll(".collapsible");M.Collapsible.init(t)})),auth.onAuthStateChanged((function(e){e?(console.log("user logged in: ",e),db.collection("watched_movies").get().then((function(t){c(t.docs),l(e)})),db.collection("queue_movies").get().then((function(t){a(t.docs),l(e)}))):(console.log("user logged out"),l(e),c([]),a([]))}));var i=document.querySelector("#create-form");i.addEventListener("submit",(function(e){e.preventDefault(),db.collection("watched_movies").add({title:i.title.value,content:i.content.value}).then((function(){var e=document.querySelector("#modal-create");M.Modal.getInstance(e).close(),i.reset()})).catch((function(e){console.log(e.message)}))}));document.querySelector(".film-gallery__list");var r=document.querySelector(".modal__btn--watched");console.log(r),r.addEventListener("click",(function(e){console.log(e)})),i.addEventListener("submit",(function(e){e.preventDefault(),db.collection("queue_movies").add({title:i.title.value,content:i.content.value}).then((function(){var e=document.querySelector("#modal-create");M.Modal.getInstance(e).close(),i.reset()})).catch((function(e){console.log(e.message)}))}));var u=document.querySelector("#signup-form");u.addEventListener("submit",(function(e){e.preventDefault();var t=u["signup-email"].value,n=u["signup-password"].value;console.log(t,n),auth.createUserWithEmailAndPassword(t,n).then((function(e){var t=document.querySelector("#modal-signup");M.Modal.getInstance(t).close(),u.reset()}))})),document.querySelector("#logout").addEventListener("click",(function(e){e.preventDefault(),auth.signOut().then((function(){}))}));var s=document.querySelector("#login-form");s.addEventListener("submit",(function(e){e.preventDefault();var t=s["login-email"].value,n=s["login-password"].value;auth.signInWithEmailAndPassword(t,n).then((function(e){console.log(e.user);var t=document.querySelector("#modal-login");M.Modal.getInstance(t).close(),s.reset()}))}))}();
//# sourceMappingURL=auth.e18c8a2c.js.map
