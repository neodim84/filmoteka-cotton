function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},t.parcelRequired7c6=r);var a=r("2shzp");r("fb9GJ");var o=r("2MCYk"),l=r("kgX9T"),s=r("2nhTy");const c=document.querySelector(".backdrop-loader");var f=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,m=parseInt,g="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,_=g||v||Function("return this")(),y=Object.prototype.toString,h=Math.max,b=Math.min,$=function(){return _.Date.now()};function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==y.call(e)}(e))return NaN;if(j(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=j(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(f,"");var n=d.test(e);return n||p.test(e)?m(e.slice(2),n?2:8):u.test(e)?NaN:+e}const T=function(e,t,n){var i,r,a,o,l,s,c=0,f=!1,u=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=i,a=r;return i=r=void 0,c=t,o=e.apply(a,n)}function m(e){return c=e,l=setTimeout(v,t),f?p(e):o}function g(e){var n=e-s;return void 0===s||n>=t||n<0||u&&e-c>=a}function v(){var e=$();if(g(e))return _(e);l=setTimeout(v,function(e){var n=t-(e-s);return u?b(n,a-(e-c)):n}(e))}function _(e){return l=void 0,d&&i?p(e):(i=r=void 0,o)}function y(){var e=$(),n=g(e);if(i=arguments,r=this,s=e,n){if(void 0===l)return m(s);if(u)return l=setTimeout(v,t),p(s)}return void 0===l&&(l=setTimeout(v,t)),o}return t=w(t)||0,j(n)&&(f=!!n.leading,a=(u="maxWait"in n)?h(w(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==l&&clearTimeout(l),c=0,i=s=r=l=void 0},y.flush=function(){return void 0===l?o:_($())},y}((()=>{c.classList.add("is-hidden")}),1e3);var L=r("7rYDH"),O=r("g4lwF"),x=(s=r("2nhTy"),r("hes0g"));const S={trend:document.querySelector(".film-gallery__list")};async function k(e){try{const t=await L.getMovie(e),{results:n}=t;return(0,x.save)("trend",n),S.trend.innerHTML="",S.trend.innerHTML=await(0,O.markupGallery)(n)}catch(e){console.log(e)}}k(1),s.container.addEventListener("click",(function(){k(s.instance.getCurrentPage())}));const M=document.querySelector(".header__form"),q=document.querySelector(".film-gallery__list"),E=document.querySelector(".header__notif");let N="",C=1;async function D(t){try{const n=await async function(e,t){const{data:n}=await a.default.get(`/search/movie?api_key=e1d2d59faab8416a91a95646b10aa32e&language=en-US&page=1&include_adult=false&query=${e}&page=${t}`);return console.log(n),n}(t,C);s.instance.setTotalItems(n.total_results),c.classList.remove("is-hidden");const{results:i}=n;localStorage.setItem("currentPage",JSON.stringify(i)),function(e){if(0==e){E.classList.add("header__notif--visible");setTimeout((()=>{E.classList.remove("header__notif--visible")}),3e3);s.instance.reset(1e3),k(1)}}(i.length);const r=i.map((t=>{const n=t.genre_ids;let i=(0,l.genreTitle)(n,e(o));""===i&&(i="no genres");let r="no info";null!=t.release_date&&(r=t.release_date.slice(0,4));let a="https://picsum.photos/200";null!==t.poster_path&&(a=`http://image.tmdb.org/t/p/w780${t.poster_path}`);let s="no title";void 0!==t.original_title&&(s=t.original_title);let c="no rating";void 0!==t.vote_average&&(c=t.vote_average);const f=t.id;return`<li class="film-gallery__item card js-film" data-id=${f}>\n        <a href="http://" class="link js-film" data-id=${f}>\n          <img\n            class="film-gallery__img js-film"\n            data-id=${f}\n            src="${a}"\n            alt="фото фільма"\n          />\n          <div class="film js-film" data-id=${f}>\n            <h2 class="film__title js-film" data-id=${f}>${s}</h2>\n          </div>\n          <div class="film__wrapper js-film" data-id=${f}>\n            <p class="film__genre film__wrapper-reset js-film" data-id=${f}>${i}</p>\n            <p class="film__line film__wrapper-reset js-film" data-id=${f}>|</p>\n            <p class="film__relise film__wrapper-reset js-film" data-id=${f}>${r}</p>\n            <p class="film__rating visually-hidden film__wrapper-reset js-film" data-id=${f}>${t.vote_average}</p>\n          </div>\n        </a>\n      </li>`})).join("");q.innerHTML=r,T()}catch(e){T(),console.log(e)}}a.default.defaults.baseURL="https://api.themoviedb.org/3",M.addEventListener("submit",(e=>{e.preventDefault();const{searchQuery:t}=e.currentTarget,n=t.value.trim().toLowerCase();N!==n&&(C=1,s.instance.reset(),N=n),D(N)})),s.container.addEventListener("click",(function(){C=s.instance.getCurrentPage(),""!==N&&D(N)})),r("kgX9T"),r("9V0Go"),r("2nhTy"),r("bO1YF"),r("hes0g");
//# sourceMappingURL=index.e5c8abe6.js.map
