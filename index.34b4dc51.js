!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i);var a=i("bpxeT"),o=i("2TvXO"),c=i("dIxxU");i("1VFfL");var s=i("bDhix"),l=i("bC1QP"),u=i("jcFG7"),f=document.querySelector(".backdrop-loader"),d={},p=i("l5bVx"),v=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,g=/^0o[0-7]+$/i,h=parseInt,y="object"==typeof t&&t&&t.Object===Object&&t,b="object"==typeof self&&self&&self.Object===Object&&self,x=y||b||Function("return this")(),j=Object.prototype.toString,w=Math.max,T=Math.min,L=function(){return x.Date.now()};function O(t){var n=void 0===t?"undefined":e(p)(t);return!!t&&("object"==n||"function"==n)}function k(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(p)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==j.call(t)}(t))return NaN;if(O(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=O(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(v,"");var r=_.test(t);return r||g.test(t)?h(t.slice(2),r?2:8):m.test(t)?NaN:+t}d=function(e,t,n){var r,i,a,o,c,s,l=0,u=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n)}function v(e){return l=e,c=setTimeout(_,t),u?p(e):o}function m(e){var n=e-s;return void 0===s||n>=t||n<0||f&&e-l>=a}function _(){var e=L();if(m(e))return g(e);c=setTimeout(_,function(e){var n=t-(e-s);return f?T(n,a-(e-l)):n}(e))}function g(e){return c=void 0,d&&r?p(e):(r=i=void 0,o)}function h(){var e=L(),n=m(e);if(r=arguments,i=this,s=e,n){if(void 0===c)return v(s);if(f)return c=setTimeout(_,t),p(s)}return void 0===c&&(c=setTimeout(_,t)),o}return t=k(t)||0,O(n)&&(u=!!n.leading,a=(f="maxWait"in n)?w(k(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),h.cancel=function(){void 0!==c&&clearTimeout(c),l=0,r=s=i=c=void 0},h.flush=function(){return void 0===c?o:g(L())},h};var S=function(){f.classList.remove("is-hidden")},N=d((function(){f.classList.add("is-hidden")}),1e3),q=(a=i("bpxeT"),o=i("2TvXO"),i("b7ONl")),M=i("9XBOy"),E=(u=i("jcFG7"),i("hBW9e")),C={trend:document.querySelector(".film-gallery__list")},F="trend";function D(e){return P.apply(this,arguments)}function P(){return(P=e(a)(e(o).mark((function t(n){var r,i;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.getMovie(n);case 3:return r=e.sent,i=r.results,(0,E.save)(F,i),C.trend.innerHTML="",e.next=9,(0,M.markupGallery)(i);case 9:return e.abrupt("return",C.trend.innerHTML=e.sent);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}D(1),u.container.addEventListener("click",(function(){D(u.instance.getCurrentPage())}));var U=document.querySelector(".header__form"),G=document.querySelector(".film-gallery__list"),I=document.querySelector(".header__notif"),R="",W=1;function $(e){return B.apply(this,arguments)}function B(){return(B=e(a)(e(o).mark((function t(n){var r,i,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H(n,W);case 3:r=e.sent,u.instance.setTotalItems(r.total_results),S(),i=r.results,localStorage.setItem("currentPage",JSON.stringify(i)),X(i.length),a=V(i),G.innerHTML=a,N(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),N(),console.log(e.t0);case 18:case"end":return e.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}function H(e,t){return Q.apply(this,arguments)}function Q(){return(Q=e(a)(e(o).mark((function t(n,r){var i;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.get("/search/movie?api_key=e1d2d59faab8416a91a95646b10aa32e&language=en-US&page=1&include_adult=false&query=".concat(n,"&page=").concat(r));case 2:return i=e.sent.data,console.log(i),e.abrupt("return",i);case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function X(e){if(0==e){I.classList.add("header__notif--visible");setTimeout((function(){I.classList.remove("header__notif--visible")}),3e3);u.instance.reset(1e3),D(1)}}function V(t){return t.map((function(t){var n=t.genre_ids,r=(0,l.genreTitle)(n,e(s));""===r&&(r="no genres");var i="no info";null!=t.release_date&&(i=t.release_date.slice(0,4));var a="https://picsum.photos/200";null!==t.poster_path&&(a="http://image.tmdb.org/t/p/w780".concat(t.poster_path));var o="no title";void 0!==t.original_title&&(o=t.original_title);void 0!==t.vote_average&&t.vote_average;var c=t.id;return'<li class="film-gallery__item card js-film" data-id='.concat(c,'>\n        <a href="http://" class="link js-film" data-id=').concat(c,'>\n          <img\n            class="film-gallery__img js-film"\n            data-id=').concat(c,'\n            src="').concat(a,'"\n            alt="фото фільма"\n          />\n          <div class="film js-film" data-id=').concat(c,'>\n            <h2 class="film__title js-film" data-id=').concat(c,">").concat(o,'</h2>\n          </div>\n          <div class="film__wrapper js-film" data-id=').concat(c,'>\n            <p class="film__genre film__wrapper-reset js-film" data-id=').concat(c,">").concat(r,'</p>\n            <p class="film__line film__wrapper-reset js-film" data-id=').concat(c,'>|</p>\n            <p class="film__relise film__wrapper-reset js-film" data-id=').concat(c,">").concat(i,'</p>\n            <p class="film__rating visually-hidden film__wrapper-reset js-film" data-id=').concat(c,">").concat(t.vote_average,"</p>\n          </div>\n        </a>\n      </li>")})).join("")}c.default.defaults.baseURL="https://api.themoviedb.org/3",U.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget.searchQuery.value.trim().toLowerCase();R!==t&&(W=1,u.instance.reset(),R=t),$(R)})),u.container.addEventListener("click",(function(){W=u.instance.getCurrentPage(),""!==R&&$(R)})),i("bC1QP"),i("epRYx"),i("jcFG7"),i("5YNLl"),i("hBW9e")}();
//# sourceMappingURL=index.34b4dc51.js.map
