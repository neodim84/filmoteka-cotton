!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o=a("bpxeT"),i=a("2TvXO"),s=a("dIxxU");a("1VFfL");var d=a("bDhix"),c=a("bC1QP"),l=a("jcFG7"),u=document.querySelector(".backdrop-loader"),f={},m=a("l5bVx"),p=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,g=/^0o[0-7]+$/i,h=parseInt,y="object"==typeof t&&t&&t.Object===Object&&t,k="object"==typeof self&&self&&self.Object===Object&&self,_=y||k||Function("return this")(),w=Object.prototype.toString,x=Math.max,j=Math.min,L=function(){return _.Date.now()};function O(t){var n=void 0===t?"undefined":e(m)(t);return!!t&&("object"==n||"function"==n)}function T(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(m)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==w.call(t)}(t))return NaN;if(O(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=O(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(p,"");var r=b.test(t);return r||g.test(t)?h(t.slice(2),r?2:8):v.test(t)?NaN:+t}f=function(e,t,n){var r,a,o,i,s,d,c=0,l=!1,u=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=r,o=a;return r=a=void 0,c=t,i=e.apply(o,n)}function p(e){return c=e,s=setTimeout(b,t),l?m(e):i}function v(e){var n=e-d;return void 0===d||n>=t||n<0||u&&e-c>=o}function b(){var e=L();if(v(e))return g(e);s=setTimeout(b,function(e){var n=t-(e-d);return u?j(n,o-(e-c)):n}(e))}function g(e){return s=void 0,f&&r?m(e):(r=a=void 0,i)}function h(){var e=L(),n=v(e);if(r=arguments,a=this,d=e,n){if(void 0===s)return p(d);if(u)return s=setTimeout(b,t),m(d)}return void 0===s&&(s=setTimeout(b,t)),i}return t=T(t)||0,O(n)&&(l=!!n.leading,o=(u="maxWait"in n)?x(T(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),h.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=d=a=s=void 0},h.flush=function(){return void 0===s?i:g(L())},h};var C=function(){u.classList.remove("is-hidden")},S=f((function(){u.classList.add("is-hidden")}),1e3),M=(o=a("bpxeT"),i=a("2TvXO"),a("b7ONl")),P=a("9XBOy"),I=(l=a("jcFG7"),a("hBW9e")),A={trend:document.querySelector(".film-gallery__list")},E="trend";function D(e){return R.apply(this,arguments)}function R(){return(R=e(o)(e(i).mark((function t(n){var r,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.getMovie(n);case 3:return r=e.sent,a=r.results,(0,I.save)(E,a),A.trend.innerHTML="",e.next=9,(0,P.markupGallery)(a);case 9:return e.abrupt("return",A.trend.innerHTML=e.sent);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}D(1),l.container.addEventListener("click",(function(){D(l.instance.getCurrentPage())}));var B=document.querySelector(".header__form"),N=document.querySelector(".film-gallery__list"),W=document.querySelector(".header__notif"),q="",F=1;function U(e){return G.apply(this,arguments)}function G(){return(G=e(o)(e(i).mark((function t(n){var r,a,o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H(n,F);case 3:r=e.sent,l.instance.setTotalItems(r.total_results),C(),a=r.results,localStorage.setItem("currentPage",JSON.stringify(a)),Q(a.length),o=X(a),N.innerHTML=o,S(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),S(),console.log(e.t0);case 18:case"end":return e.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}function H(e,t){return $.apply(this,arguments)}function $(){return($=e(o)(e(i).mark((function t(n,r){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.default.get("/search/movie?api_key=e1d2d59faab8416a91a95646b10aa32e&language=en-US&page=1&include_adult=false&query=".concat(n,"&page=").concat(r));case 2:return a=e.sent.data,console.log(a),e.abrupt("return",a);case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Q(e){if(0==e){W.classList.add("header__notif--visible");setTimeout((function(){W.classList.remove("header__notif--visible")}),3e3);l.instance.reset(1e3),D(1)}}function X(t){return t.map((function(t){var n=t.genre_ids,r=(0,c.genreTitle)(n,e(d));""===r&&(r="no genres");var a="no info";null!=t.release_date&&(a=t.release_date.slice(0,4));var o="https://picsum.photos/200";null!==t.poster_path&&(o="http://image.tmdb.org/t/p/w780".concat(t.poster_path));var i="no title";void 0!==t.original_title&&(i=t.original_title);void 0!==t.vote_average&&t.vote_average;var s=t.id;return'<li class="film-gallery__item card js-film" data-id='.concat(s,'>\n        <a href="http://" class="link js-film" data-id=').concat(s,'>\n          <img\n            class="film-gallery__img js-film"\n            data-id=').concat(s,'\n            src="').concat(o,'"\n            alt="фото фільма"\n          />\n          <div class="film js-film" data-id=').concat(s,'>\n            <h2 class="film__title js-film" data-id=').concat(s,">").concat(i,'</h2>\n          </div>\n          <div class="film__wrapper js-film" data-id=').concat(s,'>\n            <p class="film__genre film__wrapper-reset js-film" data-id=').concat(s,">").concat(r,'</p>\n            <p class="film__line film__wrapper-reset js-film" data-id=').concat(s,'>|</p>\n            <p class="film__relise film__wrapper-reset js-film" data-id=').concat(s,">").concat(a,'</p>\n            <p class="film__rating visually-hidden film__wrapper-reset js-film" data-id=').concat(s,">").concat(t.vote_average,"</p>\n          </div>\n        </a>\n      </li>")})).join("")}s.default.defaults.baseURL="https://api.themoviedb.org/3",B.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget.searchQuery.value.trim().toLowerCase();q!==t&&(F=1,l.instance.reset(),q=t),U(q)})),l.container.addEventListener("click",(function(){F=l.instance.getCurrentPage(),""!==q&&U(q)})),a("bC1QP"),a("epRYx"),a("jcFG7"),a("5YNLl"),a("hBW9e");"undefined"!=typeof self&&self;new(e(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.js")}({"./src/darkmode.js":
/*!*************************!*\
  !*** ./src/darkmode.js ***!
  \*************************/
/*! no static exports found */function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.IS_BROWSER=void 0;var a="undefined"!=typeof window;t.IS_BROWSER=a;var o=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a){t=Object.assign({},{bottom:"32px",right:"32px",left:"unset",time:"0.3s",mixColor:"#fff",backgroundColor:"#fff",buttonColorDark:"#100f2c",buttonColorLight:"#fff",label:"",saveInCookies:!0,autoMatchOsTheme:!0},t);var n="\n      .darkmode-layer {\n        position: fixed;\n        pointer-events: none;\n        background: ".concat(t.mixColor,";\n        transition: all ").concat(t.time," ease;\n        mix-blend-mode: difference;\n      }\n\n      .darkmode-layer--button {\n        width: 2.9rem;\n        height: 2.9rem;\n        border-radius: 50%;\n        right: ").concat(t.right,";\n        bottom: ").concat(t.bottom,";\n        left: ").concat(t.left,";\n      }\n\n      .darkmode-layer--simple {\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        transform: scale(1) !important;\n      }\n\n      .darkmode-layer--expanded {\n        transform: scale(100);\n        border-radius: 0;\n      }\n\n      .darkmode-layer--no-transition {\n        transition: none;\n      }\n\n      .darkmode-toggle {\n        background: ").concat(t.buttonColorDark,";\n        width: 3rem;\n        height: 3rem;\n        position: fixed;\n        border-radius: 50%;\n        border:none;\n        right: ").concat(t.right,";\n        bottom: ").concat(t.bottom,";\n        left: ").concat(t.left,";\n        cursor: pointer;\n        transition: all 0.5s ease;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .darkmode-toggle--white {\n        background: ").concat(t.buttonColorLight,";\n      }\n\n      .darkmode-toggle--inactive {\n        display: none;\n      }\n\n      .darkmode-background {\n        background: ").concat(t.backgroundColor,";\n        position: fixed;\n        pointer-events: none;\n        z-index: -10;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n      }\n\n      img, .darkmode-ignore {\n        isolation: isolate;\n        display: inline-block;\n      }\n\n      @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n        .darkmode-toggle {display: none !important}\n      }\n\n      @supports (-ms-ime-align:auto), (-ms-accelerator:true) {\n        .darkmode-toggle {display: none !important}\n      }\n    "),r=document.createElement("div"),o=document.createElement("button"),i=document.createElement("div");o.innerHTML=t.label,o.classList.add("darkmode-toggle--inactive"),r.classList.add("darkmode-layer"),i.classList.add("darkmode-background");var s="true"===window.localStorage.getItem("darkmode"),d=t.autoMatchOsTheme&&window.matchMedia("(prefers-color-scheme: dark)").matches,c=null===window.localStorage.getItem("darkmode");(!0===s&&t.saveInCookies||c&&d)&&(r.classList.add("darkmode-layer--expanded","darkmode-layer--simple","darkmode-layer--no-transition"),o.classList.add("darkmode-toggle--white"),document.body.classList.add("darkmode--activated")),document.body.insertBefore(o,document.body.firstChild),document.body.insertBefore(r,document.body.firstChild),document.body.insertBefore(i,document.body.firstChild),this.addStyle(n),this.button=o,this.layer=r,this.saveInCookies=t.saveInCookies,this.time=t.time}}var t,n,o;return t=e,(n=[{key:"addStyle",value:function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","data:text/css;charset=UTF-8,"+encodeURIComponent(e)),document.head.appendChild(t)}},{key:"showWidget",value:function(){var e=this;if(a){var t=this.button,n=this.layer,r=1e3*parseFloat(this.time);t.classList.add("darkmode-toggle"),t.classList.remove("darkmode-toggle--inactive"),t.setAttribute("aria-label","Activate dark mode"),t.setAttribute("aria-checked","false"),t.setAttribute("role","checkbox"),n.classList.add("darkmode-layer--button"),t.addEventListener("click",(function(){var a=e.isActivated();a?(n.classList.remove("darkmode-layer--simple"),t.setAttribute("disabled",!0),setTimeout((function(){n.classList.remove("darkmode-layer--no-transition"),n.classList.remove("darkmode-layer--expanded"),t.removeAttribute("disabled")}),1)):(n.classList.add("darkmode-layer--expanded"),t.setAttribute("disabled",!0),setTimeout((function(){n.classList.add("darkmode-layer--no-transition"),n.classList.add("darkmode-layer--simple"),t.removeAttribute("disabled")}),r)),t.classList.toggle("darkmode-toggle--white"),document.body.classList.toggle("darkmode--activated"),window.localStorage.setItem("darkmode",!a)}))}}},{key:"toggle",value:function(){if(a){var e=this.layer,t=this.isActivated(),n=this.button;e.classList.toggle("darkmode-layer--simple"),document.body.classList.toggle("darkmode--activated"),window.localStorage.setItem("darkmode",!t),n.setAttribute("aria-label","De-activate dark mode"),n.setAttribute("aria-checked","true")}}},{key:"isActivated",value:function(){return a?document.body.classList.contains("darkmode--activated"):null}}])&&r(t.prototype,n),o&&r(t,o),e}();t.default=o},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(/*! ./darkmode */"./src/darkmode.js")),a=r.default;t.default=a,r.IS_BROWSER&&function(e){e.Darkmode=r.default}(window),e.exports=t.default}})}()))({bottom:"80px",right:"unset",left:"32px",time:"0.5s",mixColor:"#fff",backgroundColor:"#fff",buttonColorDark:"#100f2c",buttonColorLight:"#fff",saveInCookies:!0,label:"🌓",autoMatchOsTheme:!0}).showWidget()}();
//# sourceMappingURL=index.21cd70ce.js.map
